## Датчик освещенности

- [Подключение опции](#подключение-опции)
- [Схема подключения](#схема-подключения)
- [Взаимодействие с внешним кодом](#взаимодействие-с-внешним-кодом)
- [Смотри так же](#смотри-так-же)

### Подключение опции

Для того, чтобы иметь возможность использовать датчик освещенности, нужно раскомментировать строку `#define USE_LIGHT_SENSOR` в блоке **датчики - датчик освещенности** в файле **clockSetting.h**. В результате появляется возможность автоматически снижать яркость экрана при низком освещении.

Аналоговый пин для подключения датчика определяется в строке `int8_t constexpr LIGHT_SENSOR_PIN = A3` в том же блоке.

### Схема подключения

Датчик освещенности - фоторезистор типа **GL5528**.

![scheme0001](0001.jpg "Схема подключения датчика")

### Взаимодействие с внешним кодом

Методы
```
uint8_t getLightThresholdValue()
void setLightThresholdValue(uint8_t _data)
```
позволяют получать текущий и устанавливать новый порог переключения яркости, допустимый диапазон: 1..9. 

Нужно так же иметь в виду, что порог переключения по умолчанию расчитывается для 10-битного АЦП. Если же используется микроконтроллер с другой разрядностью, нужную разрядность нужно установить с помощью метода
```
void setADCbitDepth(uint8_t bit_depth);
```

<hr>

### Смотри так же
- [Главная страница](../readme.md)
- [Используемые модули RTC](rtc.md)
- [Используемые в часах экраны](displays.md)
- [Управление часами - кнопки](buttons.md)
- Дополнительные опции:
  - [Календарь](calendar.md)
  - [Будильник](alarm.md)
  - [Регулировка уровней яркости экрана](br_adjust.md)
  - [Отображение температуры](show_temp.md)
  - [Опции для матричных экранов](matrix.md)
- Внешние датчики:
  - [Датчики температуры](temp_sensors.md)
- [Описание файла `clockSetting.h`](clock_setting.md)
- [Взаимодействие с внешним кодом (API библиотеки)](api.md)
- [Руководство по настройкам часов](setting.md)
