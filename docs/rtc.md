## Используемые модули RTC

- [Объявление модуля RTC](#объявление-модуля-rtc)
- [Взаимодействие с внешним кодом](#взаимодействие-с-внешним-кодом)
- [Смотри так же](#смотри-так-же)

### Объявление модуля RTC

Часы могут быть построены на базе как модуля **DS3231**, так и модулей **DS1307**, **PCF8563** или **PCF8523**.

Используемый модуль нужно указать в блоке **модуль RTC** в файле **clockSetting.h**, например `#define RTC_DS3231`. Возможные варианты указаны в комментарии к строке. Собственно, на этом и все.

Модули работают через аппаратный **I2C** микроконтроллера, соответственно, к пинам аппаратного **I2C** выбранного МК их и нужно подключать.

***Важно!!!** - если вы используете новый RTC-модуль с только что вставленной батарейкой, часы могут сразу не завестись - на экране будут гореть нули (**00 00**), двоеточие между ними мигать не будет. Не пугайтесь, это значит, что тактовый генератор часов еще не запущен; он запустится, как только вы выставите текущее время ([см. руководство по настройкам часов](setting.md)). В дальнейшем подобной проблемы не возникнет даже после отключения питания, пока к модулю подключена резервная батарейка*

***Не менее важно!!!** - подобные симптомы (нули на экране и немигающее двоеточие) могут означать отсутствие связи с модулем RTC*

### Взаимодействие с внешним кодом

Библиотека позволяет как получить текущие дату/время, так и установить их. Для этого используются методы:
- `shDateTime getCurrentDateTime()` - получение текущих даты и времени;
- `void setCurrentTime(uint8_t _hour, uint8_t _minute, uint8_t _second)` - установка времени;
- `void setCurrentDate(uint8_t _date, uint8_t _month)` - установка даты (день и месяц);
- `void setCurrentYear(uint8_t _year)` - установка года;

<hr>

### Смотри так же
- [Главная страница](../readme.md)
- [Используемые в часах экраны](displays.md)
- [Управление часами - кнопки](buttons.md)
- Дополнительные опции:
  - [Календарь](calendar.md)
  - [Будильник](alarm.md)
  - [Регулировка уровней яркости экрана](br_adjust.md)
  - [Отображение температуры](show_temp.md)
  - [Опции для матричных экранов](matrix.md)
- Внешние датчики:
  - [Датчик освещенности](light_sensor.md)
  - [Датчики температуры](temp_sensors.md)
- [Описание файла `clockSetting.h`](clock_setting.md)
- [Взаимодействие с внешним кодом (API библиотеки)](api.md)
- [Руководство по настройкам часов](setting.md)
